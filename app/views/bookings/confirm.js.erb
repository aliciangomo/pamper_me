
function refreshCollapsibles(bookingId) {

  const pending = document.querySelector(".pending");

  const booking = pending.querySelector(`#booking-${bookingId}`);
  const pendingButtons = booking.querySelector(".pending-version");
  pendingButtons.classList.add('d-none');
  const confirmedButtons = booking.querySelector(".confirmed-version");
  confirmedButtons.classList.remove('d-none');

  const pendingCount = pending.querySelector('.number')
  pendingCount.innerText = parseInt(pendingCount.innerText, 10) - 1

  const confirmed = document.querySelector(".confirmed");
  const insertionPoint = confirmed.querySelector('.provider-dashboard-cards')

  insertionPoint.insertAdjacentHTML('afterbegin', booking.outerHTML)

  const confirmedCount = confirmed.querySelector('.number')
  confirmedCount.innerText = parseInt(confirmedCount.innerText, 10) + 1

  booking.style.display = "none";



};

refreshCollapsibles(<%= @booking.id %>)
